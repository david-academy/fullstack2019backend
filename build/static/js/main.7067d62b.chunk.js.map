{"version":3,"sources":["components/Filter.js","components/Person.js","components/Persons.js","services/persons.js","components/PersonForm.js","components/Notification.js","App.js","index.js"],"names":["Filter","value","changeEvent","onChange","Person","person","deletePersonHandler","name","number","onClick","id","Persons","persons","filter","personsToShow","toLowerCase","includes","map","key","baseUrl","axios","get","then","response","data","newObject","post","catch","error","console","log","message","put","delete","PersonForm","setPersons","notify","useState","newName","setNewName","newNumber","setNewNumber","onSubmit","event","preventDefault","findIndex","window","confirm","find","p","personService","returnedPerson","returnedPersons","addPhoneNumber","concat","target","type","Notification","notification","style","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","App","props","newFilter","setNewFilter","notificationMessage","setNotificationMessage","useEffect","initialPersons","setTimeout","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.7067d62b.chunk.js","sourcesContent":["import React from 'react'\r\nconst Filter = ({value, changeEvent})=>{\r\n    return (\r\n      <div>\r\n        filter shown with \r\n        <input\r\n            value={value}\r\n            onChange={changeEvent}\r\n            />\r\n      </div>\r\n    )\r\n  }\r\n  export default Filter","import React from 'react'\r\n\r\nconst Person = ({ person, deletePersonHandler}) => {\r\n    const handleDelete = ()=>{deletePersonHandler(person.id)}\r\n    return(\r\n        <li>{person.name}: {person.number} \r\n<button onClick={handleDelete}>delete</button></li>\r\n)}\r\n\r\nexport default Person","import React from 'react'\r\nimport Person from './Person'\r\n\r\n\r\nconst Persons = ({ persons, filter, deletePersonHandler}) => {\r\n\tlet personsToShow = persons\r\n\tif ( filter ) {\r\n\t\tpersonsToShow = persons.filter( person => person.name.toLowerCase().includes(filter.toLowerCase()) )\r\n\t}\r\n\t\r\n\t\r\n\tconst rows = () => personsToShow.map(person =>\r\n\t\t<Person \r\n\t\t\tkey={person.name} \r\n\t\t\tperson={person} \r\n\t\t\tdeletePersonHandler={deletePersonHandler}/>\r\n\t)\r\n\r\n\treturn (\r\n\t\t<ul>\r\n\t\t\t{rows()}\r\n\t\t</ul>\r\n\t)\r\n}\r\n\r\nexport default Persons","import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseUrl)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst create = newObject => {\r\n    const request = axios.post(baseUrl, newObject)\r\n  \r\n    request\r\n        .then(response=> {return response.data})\r\n        .catch(error => {\r\n            console.log(error.message); \r\n            return error.message})\r\n\r\n\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n  const request= axios.put(`${baseUrl}/${id}`, newObject)\r\n  return request.then(response=> response.data)\r\n}\r\n\r\nconst deletePerson = (id)=>{\r\n    const request = axios.delete(`${baseUrl}/${id}`)\r\n    return request.then(response=>response.data)\r\n    \r\n\r\n}\r\n\r\nexport default {getAll, create, update, deletePerson}","import React, {useState} from 'react'\r\nimport personService from '../services/persons'\r\n\r\nconst PersonForm = ({persons, setPersons, notify})=> {\r\nconst [ newName, setNewName ] = useState('')\r\nconst [ newNumber, setNewNumber ] = useState('')\r\n\r\nconst addName = (event)=>{\r\n    event.preventDefault()\r\n    if(persons.findIndex(person => person.name=== newName)>-1){\r\n      if(window.confirm(`${newName} is aleady added to phonebook, replace the old number with a new one?`)){\r\n          const id = persons.find(p=> p.name === newName).id\r\n          const addPhoneNumber ={\r\n            name: newName,\r\n            number: newNumber,\r\n          }\r\n          personService\r\n            .update(id, addPhoneNumber)\r\n            .then(returnedPerson => {\r\n              const returnedPersons = persons.map(person => person.id !== id? person: returnedPerson)\r\n              setPersons(returnedPersons)\r\n              notify(`${returnedPerson.name}'s number has been updated`)\r\n            })\r\n            .catch(error =>{\r\n              console.log(error.error)\r\n              console.log(error)\r\n              console.log(\"terrorit\")\r\n              console.log(error.response.data)\r\n              notify(error.response.data)\r\n            })\r\n      }\r\n    }\r\n    else {\r\n    const addPhoneNumber = {\r\n      name: newName,\r\n      number: newNumber,\r\n      \r\n    }\r\n    personService\r\n      .create(addPhoneNumber)\r\n      .then(returnedPerson =>{\r\n    setPersons(persons.concat(addPhoneNumber))\r\n    setNewName('')\r\n    setNewNumber('')\r\n    notify(`Added ${returnedPerson.name}`)\r\n  })\r\n  setNewName('')\r\n  setNewNumber('')\r\n}\r\n}\r\n  const handleNameChange = (event)=>{\r\n    setNewName(event.target.value)\r\n  }\r\n  const handleNumberChange = (event)=>{\r\n    setNewNumber(event.target.value)\r\n}\r\n\r\n\r\n    return(\r\n        <form onSubmit={addName}>\r\n        <div>\r\n          name: \r\n          <input \r\n          value={newName}\r\n          onChange={handleNameChange}\r\n          />\r\n        </div>\r\n        <div>\r\n          number: \r\n          <input \r\n          value={newNumber}\r\n          onChange={handleNumberChange}\r\n          />\r\n        </div>\r\n        <div>\r\n          <button type=\"submit\">add</button>\r\n        </div>\r\n      </form>\r\n    )\r\n\r\n}\r\nexport default PersonForm","import React from 'react'\r\n\r\nconst Notification = ({ notification }) => {\r\n    if (notification.message === null) {\r\n      return null\r\n    }\r\n    const style = {\r\n        color: notification.type === 'error'? 'red': 'green',\r\n        background: 'lightgrey',\r\n        fontSize: 20,\r\n        borderStyle: 'solid',\r\n        borderRadius: 5,\r\n        padding: 10,\r\n        marginBottom: 10,\r\n      }\r\n  \r\n    return (\r\n      <div style={style}>\r\n        {notification.message}\r\n      </div>\r\n    )\r\n  }\r\n\r\n  export default Notification","import React, { useState, useEffect } from 'react'\nimport Filter from './components/Filter'\nimport Persons from './components/Persons'\nimport PersonForm from './components/PersonForm'\nimport personService from './services/persons'\nimport Notification from './components/Notification'\n\nconst App = (props) => {\n  const [ persons, setPersons] = useState([]) \n  const [newFilter, setNewFilter] = useState('')\n  const [notificationMessage, setNotificationMessage] = useState({message:null})\n\n  const handleFilterChange = (event) => {\n\t\tsetNewFilter(event.target.value)\n\t}\n\n  const hook= ()=>{\n    personService\n      .getAll()\n      .then(initialPersons=> {\n      setPersons(initialPersons)\n    })\n    }\n\n  useEffect(hook,[])\n\n  const notify = (message, type='success')=>{\n    setNotificationMessage({message,type})\n    setTimeout(()=> setNotificationMessage({message: null}), 5000)\n  }\n\n const deletePersonHandler = (id) => {\n     const person = persons.find(p => p.id === id)\n     if ( window.confirm(`Are you sure you want to delete ${person.name}?`)) {\n       personService\n       .deletePerson(id)\n       .then(() => {\n         setPersons(persons.filter(p=> p.id !==id))\n         notify(`${person.name} was removed`) \n        \n       })\n       .catch(error => {          \n         setPersons(persons.filter(p => p.name !== setPersons))\n         notify(`${setPersons} was already removed!`)\n        \n       })\n   }\n  }\n\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification notification={notificationMessage} />\n      <Filter\n\t\t\t\tfilter={newFilter}\n\t\t\t\tchangeEvent={handleFilterChange}\n\t\t\t/>\n      <h2>add a new</h2>\n      <PersonForm\n       persons={persons} \n       setPersons={setPersons}\n       notify={notify}\n      />\n     \n      <h2>Numbers</h2>\n      <Persons persons={persons} filter={newFilter} deletePersonHandler={deletePersonHandler}/>\n\n      \n    </div>\n  )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}