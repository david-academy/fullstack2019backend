{"version":3,"sources":["components/Filter.js","components/Person.js","components/Persons.js","services/persons.js","components/PersonForm.js","components/Notification.js","App.js","index.js"],"names":["Filter","value","changeEvent","onChange","Person","person","deletePersonHandler","name","number","onClick","id","Persons","persons","filter","personsToShow","toLowerCase","includes","map","key","baseUrl","axios","get","then","response","data","newObject","post","put","delete","PersonForm","setPersons","notify","useState","newName","setNewName","newNumber","setNewNumber","onSubmit","event","preventDefault","findIndex","window","confirm","find","p","personService","returnedPerson","returnedPersons","catch","error","console","log","addPhoneNumber","concat","target","type","Notification","notification","message","style","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","App","props","newFilter","setNewFilter","notificationMessage","setNotificationMessage","useEffect","initialPersons","setTimeout","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.ab64a4fa.chunk.js","sourcesContent":["import React from 'react'\r\nconst Filter = ({value, changeEvent})=>{\r\n    return (\r\n      <div>\r\n        filter shown with \r\n        <input\r\n            value={value}\r\n            onChange={changeEvent}\r\n            />\r\n      </div>\r\n    )\r\n  }\r\n  export default Filter","import React from 'react'\r\n\r\nconst Person = ({ person, deletePersonHandler}) => {\r\n    const handleDelete = ()=>{deletePersonHandler(person.id)}\r\n    return(\r\n        <li>{person.name}: {person.number} \r\n<button onClick={handleDelete}>delete</button></li>\r\n)}\r\n\r\nexport default Person","import React from 'react'\r\nimport Person from './Person'\r\n\r\n\r\nconst Persons = ({ persons, filter, deletePersonHandler}) => {\r\n\tlet personsToShow = persons\r\n\tif ( filter ) {\r\n\t\tpersonsToShow = persons.filter( person => person.name.toLowerCase().includes(filter.toLowerCase()) )\r\n\t}\r\n\t\r\n\t\r\n\tconst rows = () => personsToShow.map(person =>\r\n\t\t<Person \r\n\t\t\tkey={person.name} \r\n\t\t\tperson={person} \r\n\t\t\tdeletePersonHandler={deletePersonHandler}/>\r\n\t)\r\n\r\n\treturn (\r\n\t\t<ul>\r\n\t\t\t{rows()}\r\n\t\t</ul>\r\n\t)\r\n}\r\n\r\nexport default Persons","import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseUrl)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst create = newObject => {\r\n    const request = axios.post(baseUrl, newObject)\r\n  return request.then(response=> response.data)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n  const request= axios.put(`${baseUrl}/${id}`, newObject)\r\n  return request.then(response=> response.data)\r\n}\r\n\r\nconst deletePerson = (id)=>{\r\n    const request = axios.delete(`${baseUrl}/${id}`)\r\n    return request.then(response=>response.data)\r\n    \r\n\r\n}\r\n\r\nexport default { getAll, create,update, deletePerson}","import React, {useState} from 'react'\r\nimport personService from '../services/persons'\r\n\r\nconst PersonForm = ({persons, setPersons, notify})=> {\r\nconst [ newName, setNewName ] = useState('')\r\nconst [ newNumber, setNewNumber ] = useState('')\r\n\r\nconst addName = (event)=>{\r\n    event.preventDefault()\r\n    if(persons.findIndex(person => person.name=== newName)>-1){\r\n      if(window.confirm(`${newName} is aleady added to phonebook, replace the old number with a new one?`)){\r\n          const id = persons.find(p=> p.name === newName).id\r\n          const addPhoneNumber ={\r\n            name: newName,\r\n            number: newNumber,\r\n          }\r\n          personService\r\n            .update(id, addPhoneNumber)\r\n            .then(returnedPerson => {\r\n              const returnedPersons = persons.map(person => person.id !== id? person: returnedPerson)\r\n              setPersons(returnedPersons)\r\n              notify(`${returnedPerson.name}'s number has been updated`)\r\n            })\r\n            .catch(error =>{\r\n              console.log(error.response.data.error)\r\n              notify('ERROR!')\r\n            })\r\n      }\r\n    }\r\n    else {\r\n    const addPhoneNumber = {\r\n      name: newName,\r\n      number: newNumber,\r\n      \r\n    }\r\n    personService\r\n      .create(addPhoneNumber)\r\n      .then(returnedPerson =>{\r\n    setPersons(persons.concat(addPhoneNumber))\r\n    setNewName('')\r\n    setNewNumber('')\r\n    notify(`Added ${returnedPerson.name}`)\r\n  })\r\n  setNewName('')\r\n  setNewNumber('')\r\n}\r\n}\r\n  const handleNameChange = (event)=>{\r\n    setNewName(event.target.value)\r\n  }\r\n  const handleNumberChange = (event)=>{\r\n    setNewNumber(event.target.value)\r\n}\r\n\r\n\r\n    return(\r\n        <form onSubmit={addName}>\r\n        <div>\r\n          name: \r\n          <input \r\n          value={newName}\r\n          onChange={handleNameChange}\r\n          />\r\n        </div>\r\n        <div>\r\n          number: \r\n          <input \r\n          value={newNumber}\r\n          onChange={handleNumberChange}\r\n          />\r\n        </div>\r\n        <div>\r\n          <button type=\"submit\">add</button>\r\n        </div>\r\n      </form>\r\n    )\r\n\r\n}\r\nexport default PersonForm","import React from 'react'\r\n\r\nconst Notification = ({ notification }) => {\r\n    if (notification.message === null) {\r\n      return null\r\n    }\r\n    const style = {\r\n        color: notification.type === 'error'? 'red': 'green',\r\n        background: 'lightgrey',\r\n        fontSize: 20,\r\n        borderStyle: 'solid',\r\n        borderRadius: 5,\r\n        padding: 10,\r\n        marginBottom: 10,\r\n      }\r\n  \r\n    return (\r\n      <div style={style}>\r\n        {notification.message}\r\n      </div>\r\n    )\r\n  }\r\n\r\n  export default Notification","import React, { useState, useEffect } from 'react'\nimport Filter from './components/Filter'\nimport Persons from './components/Persons'\nimport PersonForm from './components/PersonForm'\nimport personService from './services/persons'\nimport Notification from './components/Notification'\n\nconst App = (props) => {\n  const [ persons, setPersons] = useState([]) \n  const [newFilter, setNewFilter] = useState('')\n  const [notificationMessage, setNotificationMessage] = useState({message:null})\n\n  const handleFilterChange = (event) => {\n\t\tsetNewFilter(event.target.value)\n\t}\n\n  const hook= ()=>{\n    personService\n      .getAll()\n      .then(initialPersons=> {\n      setPersons(initialPersons)\n    })\n    }\n\n  useEffect(hook,[])\n\n  const notify = (message, type='success')=>{\n    setNotificationMessage({message,type})\n    setTimeout(()=> setNotificationMessage({message: null}), 5000)\n  }\n\n const deletePersonHandler = (id) => {\n     const person = persons.find(p => p.id === id)\n     if ( window.confirm(`Are you sure you want to delete ${person.name}?`)) {\n       personService\n       .deletePerson(id)\n       .then(() => {\n         setPersons(persons.filter(p=> p.id !==id))\n         notify(`${person.name} was removed`) \n        \n       })\n       .catch(error => {          \n         setPersons(persons.filter(p => p.name !== setPersons))\n         notify(`${setPersons} was already removed!`)\n        \n       })\n   }\n  }\n\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification notification={notificationMessage} />\n      <Filter\n\t\t\t\tfilter={newFilter}\n\t\t\t\tchangeEvent={handleFilterChange}\n\t\t\t/>\n      <h2>add a new</h2>\n      <PersonForm\n       persons={persons} \n       setPersons={setPersons}\n       notify={notify}\n      />\n     \n      <h2>Numbers</h2>\n      <Persons persons={persons} filter={newFilter} deletePersonHandler={deletePersonHandler}/>\n\n      \n    </div>\n  )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}